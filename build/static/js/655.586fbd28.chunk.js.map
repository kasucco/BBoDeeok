{"version":3,"file":"static/js/655.586fbd28.chunk.js","mappings":"kWAyIMA,EAAUC,EAAAA,GAAAA,IAAU,ySAEd,YAAW,SAARC,SAA2B,KAAO,MAAM,IAO3C,YAAW,SAARA,SAA2B,OAAS,IAAI,IAMjDC,EAAYF,EAAAA,GAAAA,MAAY,+PAexBG,EAAYH,EAAAA,GAAAA,IAAU,0QActBI,EAAaJ,EAAAA,GAAAA,OAAa,sNAY1BK,EAASL,EAAAA,GAAAA,OAAa,yCAItBM,EAAUN,EAAAA,GAAAA,IAAU,iYAqBpBO,EAAUP,EAAAA,GAAAA,IAAU,iLAYpBQ,EAAYR,EAAAA,GAAAA,IAAU,8UAIN,YAAO,SAAJS,KAAmB,UAAY,SAAS,IAG5C,YAAO,SAAJA,KAAmB,WAAa,YAAY,IA4BpE,GAjBcT,EAAAA,GAAAA,IAAU,yTA/OP,SAAH,GAQP,IAPLU,EAAW,EAAXA,YAEAT,GADW,EAAXU,YACQ,EAARV,UACAW,EAAI,EAAJA,KACAC,EAAO,EAAPA,QACAC,EAAQ,EAARA,SACAC,EAAc,EAAdA,eAEA,GAAwBC,EAAAA,EAAAA,UAAyB,KAAhBJ,EAAKK,SAAe,eAA9CR,EAAI,KAAES,EAAO,KACpB,GAA0BF,EAAAA,EAAAA,WAAS,GAAM,eAAlCG,EAAK,KAAEC,EAAQ,KACtB,GAA8BJ,EAAAA,EAAAA,YAAU,eAAjCK,EAAO,KAAEC,EAAU,KAE1BC,QAAQC,IAAId,GAEZ,IAYMe,EAAW,yCAAG,WAAOC,GAAO,uGAEPC,EAAAA,GAAAA,SAAiB,CAAEV,QAASS,IAAW,KAAD,WAArDE,EAAI,EAAJA,KACRL,QAAQC,IAAII,EAAKC,cACjBhB,EAAQe,EAAKC,cAAc,gDAE3BN,QAAQC,IAAI,EAAD,IAAQ,yDAEtB,gBARgB,sCAWXM,EAAW,yCAAG,2FACH,GAAfV,GAAS,GACLR,EAAKmB,WAAarB,EAAYqB,SAAQ,gBACxChB,GAAe,GACfO,EAAW,kEAAgB,gDAGFU,EAAAA,GAAAA,QAAkB,CACvCD,SAAUnB,EAAKmB,WACd,KAAD,WAFMH,EAAI,EAAJA,KAGRL,QAAQC,IAAII,EAAKK,aACjBX,EAAWM,EAAKK,aAChBlB,GAAe,GAAM,kDAErBQ,QAAQC,IAAI,KAAMU,SAASN,KAAKO,SAChCb,EAAW,KAAMY,SAASN,KAAKO,SAAS,0DAG7C,kBAlBgB,mCAsBXC,GAAMC,EAAAA,EAAAA,QAAO,MAEbC,EAAa,CAEjBC,WAAY,SAACX,GAEXf,GAAQ,kBAAKD,GAAI,IAAE4B,QAASZ,EAAKa,QAAQC,MAAM,KAAKC,MAAM,EAAG,MAE7DP,EAAIQ,QAAQC,MAAMC,QAAU,MAC9B,GAEIC,GAAWC,EAAAA,EAAAA,GAAcV,GAE/B,OACE,UAACvC,EAAO,CAACE,SAAUA,EAAS,UACzBkB,IAAS,SAAC8B,EAAA,EAAU,CAAC7B,SAAUA,EAAUC,QAASA,KACnD,SAACd,EAAO,kCACR,UAACD,EAAO,CACN4C,UAAU,cACX,UAEE,KACD,SAAChD,EAAS,CACRgD,UAAU,WACVC,MAAOvC,EAAKmB,SACZqB,KAAK,WACLtC,SAAUA,KAEZ,SAACX,EAAS,CAACkD,QAASvB,EAAY,0CAGlC,SAACvB,EAAO,+CACR,UAACD,EAAO,YACN,wEACA,SAACE,EAAS,CAACC,KAAMA,EAAK,UACpB,gBAAK4C,QAhFS,WAQpB,OANAnC,GAAST,GAMFgB,EALHhB,EACQ,IAEA,IAGd,EAuEqCyC,UAAU,oBAG3C,SAAC3C,EAAO,CAAC2C,UAAU,OAAM,4NAIzB,SAAC3C,EAAO,4BAER,SAACL,EAAS,CACRiD,MAAOvC,EAAK0C,IACZF,KAAK,MACLtC,SAAUA,EACVyC,KAAK,eAEP,SAAChD,EAAO,4BAER,UAACH,EAAU,CAAC+C,MAAOvC,EAAK4C,OAAQJ,KAAK,SAAStC,SAAUA,EAAS,WAC/D,SAACT,EAAM,CAAC8C,MAAM,eAAI,2BAClB,SAAC9C,EAAM,CAAC8C,MAAM,eAAI,8BAEpB,SAAC5C,EAAO,4BAER,UAACD,EAAO,CAAC+C,QAASN,EAAS,UACxB,IACAnC,EAAK4B,QAAQ,GAAE,IAAG5B,EAAK4B,QAAQ,OAGlC,gBAAKJ,IAAKA,MAGhB,G,UCgMMrC,EAAUC,EAAAA,GAAAA,IAAU,2OAYpByD,EAAazD,EAAAA,GAAAA,IAAU,krBAgCvB0D,EAAS1D,EAAAA,GAAAA,IAAU,iFAOnB2D,GAAa3D,EAAAA,GAAAA,IAAU,uzBA8BvB4D,GAAa5D,EAAAA,GAAAA,IAAU,+UAkBvB6D,GAAc7D,EAAAA,GAAAA,IAAU,mIAQxB8D,GAAc9D,EAAAA,GAAAA,IAAU,kFAMxB+D,GAAW/D,EAAAA,GAAAA,IAAU,+HAOrBgE,GAAahE,EAAAA,GAAAA,IAAU,wIAQvBiE,GAAejE,EAAAA,GAAAA,IAAU,iLAWzBkE,GAAalE,EAAAA,GAAAA,IAAU,wKAUvBmE,GAAYnE,EAAAA,GAAAA,IAAU,oiBA+BtBoE,GAAQpE,EAAAA,GAAAA,IAAU,kWAmBxB,GAlgBe,WACb,OAAkCqE,EAAAA,EAAAA,KAAU,eAArCzD,EAAI,KAAEC,EAAO,KAAEC,EAAQ,KAC9B,GAA4BE,EAAAA,EAAAA,WAAS,GAAM,eAApCsD,EAAM,KAAEC,EAAS,KACxB,GAA8BvD,EAAAA,EAAAA,WAAS,GAAM,eAAtCwD,EAAO,KAAEC,EAAU,KAC1B,GAA8BzD,EAAAA,EAAAA,WAAS,GAAM,eAAtC0D,EAAO,KAAEC,EAAU,KAC1B,GAA0C3D,EAAAA,EAAAA,YAAU,eAA7C4D,EAAa,KAAEC,EAAgB,KACtC,GAAwC7D,EAAAA,EAAAA,YAAU,eAA3C8D,EAAY,KAAEC,EAAe,KACpC,GAAgC/D,EAAAA,EAAAA,UAAS,IAAG,eAArCgE,EAAQ,KAAEC,EAAW,KAC5B,GAAgCjE,EAAAA,EAAAA,YAAU,eAAnCkE,EAAQ,KAAEC,EAAW,KAC5B,GAAgCnE,EAAAA,EAAAA,WAAS,GAAM,eAAxCf,EAAQ,KAAEU,EAAW,KAC5B,IAAkCK,EAAAA,EAAAA,WAAS,GAAK,iBAAzCoE,GAAS,MAAEC,GAAY,MAC9B,IAA0BrE,EAAAA,EAAAA,WAAS,GAAM,iBAAlCG,GAAK,MAAEC,GAAQ,MACtB,IAA8BJ,EAAAA,EAAAA,YAAU,iBAAjCK,GAAO,MAAEC,GAAU,MAC1B,IAA8BN,EAAAA,EAAAA,YAAU,iBAAjCyB,GAAO,MAAE6C,GAAU,MAC1B,IAAkCtE,EAAAA,EAAAA,YAAU,iBAArCuE,GAAS,MAAEC,GAAY,MAC9B,IAAsCxE,EAAAA,EAAAA,WAAS,GAAM,iBAA9CyE,GAAW,MAAE1E,GAAc,MAClC,IAAsCC,EAAAA,EAAAA,YAAU,iBAAzCN,GAAW,MAAEgF,GAAc,MAClC,IAAwC1E,EAAAA,EAAAA,WAAS,GAAM,iBAAlC2E,IAAF,MAAiB,OACpC,IAA0C3E,EAAAA,EAAAA,YAAU,iBAA7C4E,GAAa,MAAEC,GAAgB,MACtC,IAA4C7E,EAAAA,EAAAA,YAAU,iBAA/C8E,GAAc,MAAEC,GAAiB,MACxC,IAA0C/E,EAAAA,EAAAA,YAAU,iBAA7CgF,GAAa,MAAEC,GAAgB,MACtC,IAA0CjF,EAAAA,EAAAA,YAAU,iBAA7CkF,GAAa,MAAkB,OAGtCC,EAAAA,EAAAA,YAAU,WACRC,IACF,GAAG,CAACZ,GAAcD,KAGlB,IAAMa,GAAO,yCAAG,oHAEWzE,EAAAA,GAAAA,UAAkB,KAAD,WAAhCC,EAAI,EAAJA,KACRL,QAAQC,IAAII,GACZ8D,GAAe9D,EAAKyE,UACpBlB,EAAYvD,EAAKyE,SAASnB,UAC1BrE,EAAQe,EAAKyE,UACbxB,EAAiBjD,EAAK0E,eACtBvB,EAAgBnD,EAAK2E,SACrBtB,EAAYrD,EAAKyE,SAASG,cAC1BC,YAAW,kBAAMpB,IAAa,EAAM,GAAE,KAAK,kDAEtCqB,eAAeC,QAAQ,iBAC1BvF,IAAS,GACTE,GAAW,sFAEbC,QAAQC,IAAI,EAAD,IAAQ,0DAEtB,kBAlBY,mCAoBPoF,GAAQ,yCAAG,+FACXhG,EAAKmB,SAAS8E,KAAK,MAAQjG,EAAKmB,WAAarB,GAAYqB,SAAQ,0CAE1CJ,EAAAA,GAAAA,SAAiBf,GAAM,KAAD,WAArCgB,EAAI,EAAJA,KACRL,QAAQC,IAAII,EAAKC,cACjBhB,EAAQe,EAAKC,cAAc,kDAE3BN,QAAQC,IAAI,EAAD,IAAQ,0DAGxB,kBAVa,mCAwBRsF,GAAU,yCAAG,oHAEQC,EAAAA,GAAAA,OAAa,GAAD,OAC9BC,6BAAiC,UACpC,CACEC,QAAS,CACPC,cAAc,GAAD,OAAKR,eAAeC,QAAQ,mBAG7C,KAAD,WAPO/E,EAAI,EAAJA,KAQRL,QAAQC,IAAII,GAAM,gDAElBL,QAAQC,IAAI,EAAD,IAAQ,yDAEtB,kBAde,oCAoChB2E,EAAAA,EAAAA,YAAU,WAGHO,eAAeC,QAAQ,iBAC1BvF,IAAS,GACTE,GAAW,qFAEXgE,GAAW,KAEf,GAAG,IAEH/D,QAAQC,KAAQ,OAAJZ,QAAI,IAAJA,OAAI,EAAJA,EAAMmB,aAAwB,OAAXrB,SAAW,IAAXA,QAAW,EAAXA,GAAaqB,WAkB5C,OAAIqD,IAEA,gCACGjE,KACC,SAAC8B,EAAA,EAAU,CACT7B,SAAUA,GACVC,QAASA,GACT8F,SAAO,EACPC,eAAgB,IAChBtB,eAAgB,qBAChBE,cAAe,eACfE,eAAgB,KAGpB,SAACmB,EAAA,EAAO,QAKV,UAAC,EAAO,WACLlG,KACC,SAAC8B,EAAA,EAAU,CACTqE,gBA/Dc,WACC,iBAAnBxB,IACFgB,KAGFJ,eAAea,WAAW,eAC1Bb,eAAea,WAAW,gBAC1Bb,eAAea,WAAW,WAC5B,EAwDU5B,gBAAiBA,GACjBvE,SAAUA,GACVqB,QAASA,GACT0E,SAAO,EACPC,eAAgBxB,GAChBE,eAAgBA,GAChBE,cAAeA,GACfE,cAAeA,GACf7E,QAASA,MAGb,UAACoC,EAAU,WACRxD,GACC,SAACuH,EAAA,EAAc,CACbC,KAAM,KACNpE,QA3CS,WACnB1C,GAAaV,GACbY,EAAQH,GACV,EAyCYwC,UAAU,cAGZ,gBAAKA,UAAU,SAEjB,gBAAKA,UAAU,UAAS,6CACxB,SAACQ,EAAM,WACL,gBAAKL,QAASpD,EA9DJ,WACdW,EAAKmB,WAAarB,GAAYqB,UAAY0D,IAC5CiB,eAAegB,QAAQ,WAAY9G,EAAKmB,UACxC6E,KACAjG,GAAY,KAEZS,IAAS,GACTE,GAAW,kEAEf,EAqDiD,kBAAMX,GAAY,EAAK,EAAC,SAC5DV,EAAW,eAAO,uBAIzB,SAAC0H,EAAA,EAAS,CAACC,WAAgB,OAAJhH,QAAI,IAAJA,OAAI,EAAJA,EAAMiH,cAC7B,UAAClE,GAAU,WACR,KACD,UAACC,GAAU,CAACV,UAAU,SAAQ,UAC3B,KACD,2BAAU,OAAJtC,QAAI,IAAJA,OAAI,EAAJA,EAAMmB,SAAQ,aAAU,OAEd,MAAb,OAAJnB,QAAI,IAAJA,OAAI,EAAJA,EAAMK,WACL,UAAC2C,GAAU,YACT,2BAAU,OAAJhD,QAAI,IAAJA,GAAAA,EAAM0C,IAAG,UAAU,OAAJ1C,QAAI,IAAJA,OAAI,EAAJA,EAAM0C,IAAG,WAAO,eAAI,SACzC,2BAAU,OAAJ1C,QAAI,IAAJA,GAAAA,EAAM4C,OAAM,UAAU,OAAJ5C,QAAI,IAAJA,OAAI,EAAJA,EAAM4C,QAAW,eAAI,SAC7C,2BACG,IACI,OAAJ5C,QAAI,IAAJA,GAAAA,EAAM4B,QAAQsF,OAAM,UACV,OAAJlH,QAAI,IAAJA,OAAI,EAAJA,EAAM4B,QAAQ,GAAE,YAAQ,OAAJ5B,QAAI,IAAJA,OAAI,EAAJA,EAAM4B,QAAQ,IACrC,qBAIQ,MAAb,OAAJ5B,QAAI,IAAJA,OAAI,EAAJA,EAAMK,WAAkB,iDACzB,SAAC4C,GAAW,WACV,SAACC,GAAW,UACD,OAARoB,QAAQ,IAARA,OAAQ,EAARA,EAAU6C,KAAI,SAACC,GACd,GAAI9C,EAAS4C,QAAU,EAAG,OAAO,SAAC/D,GAAQ,UAAEiE,GAC9C,SAGJ,UAAChE,GAAU,YACT,UAACC,GAAY,CAACZ,QAAS,kBAAMkB,GAAWD,EAAO,EAAC,oDAE9C,SAAC,GAAK,CAACpB,UAAWoB,EAAS,OAAS,UAErCA,IACC,UAACJ,GAAU,WACa,KAAb,OAARc,QAAQ,IAARA,OAAQ,EAARA,EAAU8C,UACT,gBAAK5E,UAAU,aAAY,mDAEpB,OAAR8B,QAAQ,IAARA,OAAQ,EAARA,EAAU+C,KAAI,SAACE,GACd,OACE,SAACC,EAAA,EAAW,CACV1C,aAAcA,GACdD,UAAWA,GACX0C,MAAOA,EACPE,MAAOF,EAAME,MACbC,OAAQH,EAAMG,QAGpB,QAGJ,UAACnE,GAAY,CAACZ,QAAS,kBAAMoB,GAAYD,EAAQ,EAAC,iEAEhD,SAAC,GAAK,CAACtB,UAAWsB,EAAU,OAAS,UAEtCA,IACC,UAACN,GAAU,WACkB,KAAb,OAAbU,QAAa,IAAbA,OAAa,EAAbA,EAAekD,UACd,gBAAK5E,UAAU,aAAY,mDAEf,OAAb0B,QAAa,IAAbA,OAAa,EAAbA,EAAemD,KAAI,SAACE,GACnB,OACE,SAACC,EAAA,EAAW,CACV1C,aAAcA,GACdD,UAAWA,GACX0C,MAAOA,EACPE,MAAOF,EAAME,MACbC,OAAQH,EAAMI,KAGpB,QAGJ,UAACpE,GAAY,CAACZ,QAAS,kBAAMsB,GAAYD,EAAQ,EAAC,oDAEhD,SAAC,GAAK,CAACxB,UAAWwB,EAAU,OAAS,UAEtCA,IACC,UAACR,GAAU,WACiB,KAAb,OAAZY,QAAY,IAAZA,OAAY,EAAZA,EAAcgD,UACb,gBAAK5E,UAAU,aAAY,mDAEhB,OAAZ4B,QAAY,IAAZA,OAAY,EAAZA,EAAciD,KAAI,SAACE,GAClB,OACE,SAACC,EAAA,EAAW,CACV1C,aAAcA,GACdD,UAAWA,GACX0C,MAAOA,EACPE,MAAOF,EAAME,MACbC,OAAQH,EAAMI,KAGpB,OAED,OACS,KACd,UAAClE,GAAS,YACR,gBAAKjB,UAAU,SAASG,QAAS,kBA7NzCjC,IAAS,GACTE,GAAW,kEACXyE,GAAkB,4BAClBE,GAAiB,qBACjBJ,GAAiB,IAyN6C,EAAC,uCAGvD,gBAAK3C,UAAU,SAASG,QAAS,kBAtMzCjC,IAAS,GACTE,GAAW,kEACXyE,GAAkB,gBAClBE,GAAiB,qBACjBJ,GAAiB,IAkMgD,EAAC,uCAG1D,gBACE3C,UAAU,kBACVG,QAAS,kBACPiF,OAAO7H,KAAK,sCAAuC,SAAS,EAC7D,sCAGI,UAEG,KACd,SAAC,EAAQ,CACPC,YAAaA,GACbK,eAAgBA,GAChBH,KAAMA,EACNE,SAAUA,EACVD,QAASA,EACTZ,SAAUA,EACVU,YAAaA,MAKvB,E,sBCrTA,GAXe,WACb,OACE,0BACE,UAAC4H,GAAA,EAAM,YACL,SAACC,GAAA,EAAY,KACb,SAAC,GAAM,QAIf,C","sources":["Components/MyPage/EditUser.js","Components/MyPage/MyPage.js","Pages/Mypage.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { userApi } from \"../../instance\";\r\nimport styled from \"styled-components\";\r\n\r\nimport { useRef } from \"react\";\r\nimport ReactDaumPost from \"react-daumpost-hook\";\r\nimport { signUpApi } from \"../../instance\";\r\nimport AlertModal from \"../AlertModal\";\r\n\r\nconst EditUser = ({\r\n  initialUser,\r\n  setOpenEdit,\r\n  openEdit,\r\n  user,\r\n  setUser,\r\n  onChange,\r\n  setDupNickName,\r\n}) => {\r\n  const [open, setOpen] = useState(user.visible == \"H\");\r\n  const [alert, setAlert] = useState(false);\r\n  const [content, setContent] = useState();\r\n\r\n  console.log(initialUser);\r\n\r\n  const toggleHandler = () => {\r\n    let payload = \"\";\r\n    setOpen(!open);\r\n    if (open) {\r\n      payload = \"V\";\r\n    } else {\r\n      payload = \"H\";\r\n    }\r\n    return postVisible(payload);\r\n  };\r\n\r\n  //? ----------------- 성별 보이게 안보이게 api --------------------------\r\n  const postVisible = async (payload) => {\r\n    try {\r\n      const { data } = await userApi.editUser({ visible: payload });\r\n      console.log(data.findUserData);\r\n      setUser(data.findUserData);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  //? ------------------  닉네임 중복확인  ----------------------\r\n  const DupNickname = async () => {\r\n    setAlert(true);\r\n    if (user.nickName === initialUser.nickName) {\r\n      setDupNickName(true);\r\n      setContent(\"이미 본인 닉네임입니다\");\r\n    } else {\r\n      try {\r\n        const { data } = await signUpApi.DupNick({\r\n          nickName: user.nickName,\r\n        });\r\n        console.log(data.findDupNick);\r\n        setContent(data.findDupNick);\r\n        setDupNickName(true);\r\n      } catch (error) {\r\n        console.log(error.response.data.message);\r\n        setContent(error.response.data.message);\r\n      }\r\n    }\r\n  };\r\n\r\n  //? --------------------- 다음포스트  --------------------------\r\n\r\n  const ref = useRef(null);\r\n\r\n  const postConfig = {\r\n    //팝업창으로 사용시 해당 파라메터를 없애면 된다.\r\n    onComplete: (data) => {\r\n      // 데이터를 받아와서 set해주는 부분\r\n      setUser({ ...user, myPlace: data.address.split(\" \").slice(0, 2) });\r\n      // 검색후 해당 컴포넌트를 다시 안보이게 하는 부분\r\n      ref.current.style.display = \"none\";\r\n    },\r\n  };\r\n  const postCode = ReactDaumPost(postConfig);\r\n\r\n  return (\r\n    <Wrapper openEdit={openEdit}>\r\n      {alert && <AlertModal setAlert={setAlert} content={content} />}\r\n      <EditTxt>닉네임</EditTxt>\r\n      <EditBox\r\n        className=\"nickName\r\n      \"\r\n      >\r\n        {\" \"}\r\n        <EditInput\r\n          className=\"nickName\"\r\n          value={user.nickName}\r\n          name=\"nickName\"\r\n          onChange={onChange}\r\n        />\r\n        <VerifyBtn onClick={DupNickname}>중복확인</VerifyBtn>\r\n      </EditBox>\r\n\r\n      <EditTxt>비공개 설정</EditTxt>\r\n      <EditBox>\r\n        <div> 나이, 성별, 지역</div>\r\n        <ToggleBox open={open}>\r\n          <div onClick={toggleHandler} className=\"circleBtn\" />\r\n        </ToggleBox>\r\n      </EditBox>\r\n      <EditTxt className=\"info\">\r\n        앱에서 다른 사용자에게 나의 나이, 성별, 지역 정보를 비공개설정할 수\r\n        있습니다.\r\n      </EditTxt>\r\n      <EditTxt>나이</EditTxt>\r\n\r\n      <EditInput\r\n        value={user.age}\r\n        name=\"age\"\r\n        onChange={onChange}\r\n        type=\"selectbox\"\r\n      />\r\n      <EditTxt>성별</EditTxt>\r\n\r\n      <EditSelect value={user.gender} name=\"gender\" onChange={onChange}>\r\n        <Option value=\"여자\">여자</Option>\r\n        <Option value=\"남자\">남자</Option>\r\n      </EditSelect>\r\n      <EditTxt>지역</EditTxt>\r\n\r\n      <EditBox onClick={postCode}>\r\n        {\" \"}\r\n        {user.myPlace[0]} {user.myPlace[1]}\r\n      </EditBox>\r\n\r\n      <div ref={ref}></div>\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nconst Wrapper = styled.div`\r\n  z-index: 12;\r\n  bottom: ${({ openEdit }) => (openEdit ? \"0%\" : \"-30%\")};\r\n  position: absolute;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n  width: 100%;\r\n  height: ${({ openEdit }) => (openEdit ? \"100%\" : \"0%\")};\r\n  padding: 0% 5%;\r\n  background-color: var(--black);\r\n  transition: all 1s ease-in-out;\r\n`;\r\n\r\nconst EditInput = styled.input`\r\n  width: 100%;\r\n  height: 50px;\r\n  background-color: var(--gray);\r\n  border: none;\r\n  border-radius: 10px;\r\n  margin-top: 3%;\r\n  padding: 0% 5%;\r\n  color: var(--white);\r\n  &.nickName {\r\n    width: 70%;\r\n    margin-right: 3%;\r\n  }\r\n`;\r\n\r\nconst VerifyBtn = styled.div`\r\n  width: 30%;\r\n  height: 50px;\r\n  border-radius: 10px;\r\n  padding: 0% 5%;\r\n  margin-top: 3%;\r\n  background-color: var(--primary);\r\n  font-size: 14px;\r\n  font-weight: 600;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n`;\r\n\r\nconst EditSelect = styled.select`\r\n  font-size: 16px;\r\n  width: 100%;\r\n  height: 50px;\r\n  background-color: var(--gray);\r\n  border: none;\r\n  border-radius: 10px;\r\n  margin-top: 3%;\r\n  padding: 0% 5%;\r\n  color: var(--white);\r\n`;\r\n\r\nconst Option = styled.option`\r\n  height: 30px;\r\n`;\r\n\r\nconst EditBox = styled.div`\r\n  width: 100%;\r\n  height: 50px;\r\n  background-color: var(--gray);\r\n  color: var(--white);\r\n  border: none;\r\n  border-radius: 10px;\r\n  margin-top: 3%;\r\n  padding: 0% 5%;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  &.nickName {\r\n    background-color: transparent;\r\n    padding: 0%;\r\n  }\r\n  :hover {\r\n    cursor: pointer;\r\n  }\r\n`;\r\n\r\nconst EditTxt = styled.div`\r\n  color: #7a7a7a;\r\n  font-size: 16px;\r\n  width: 100%;\r\n  margin-top: 6%;\r\n  padding: 0% 5%;\r\n  &.info {\r\n    font-size: 14px;\r\n    margin-top: 2%;\r\n  }\r\n`;\r\n\r\nconst ToggleBox = styled.div`\r\n  width: 15%;\r\n  height: 60%;\r\n  border-radius: 30px;\r\n  background-color: ${({ open }) => (open ? \"#c72363\" : \"#5c5c5c\")};\r\n  display: flex;\r\n  transition: all 1s;\r\n  justify-content: ${({ open }) => (open ? \"flex-end\" : \"flex-start\")};\r\n  align-items: center;\r\n  padding: 0% 1%;\r\n  .circleBtn {\r\n    width: 25px;\r\n    height: 25px;\r\n    border-radius: 50%;\r\n    background-color: var(--white);\r\n  }\r\n`;\r\n\r\nconst Arrow = styled.div`\r\n  display: inline-block;\r\n  border: 7px solid transparent;\r\n  border-top-color: var(--white);\r\n  transform: rotate(90deg);\r\n  &.left {\r\n    transform: rotate(270deg);\r\n  }\r\n  &.open {\r\n    margin-top: 7px;\r\n    transform: rotate(0deg);\r\n  }\r\n  &.head {\r\n    border-top-color: white;\r\n  }\r\n`;\r\n\r\nexport default EditUser;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { userApi } from \"../../instance\";\r\nimport styled from \"styled-components\";\r\nimport useInput from \"../../hooks/UseInput\";\r\nimport axios from \"axios\";\r\nimport MyPartyItem from \"./MyPartyItem\";\r\nimport AvatarBox from \"../Avatar/AvatarBox\";\r\nimport Loading from \"../../style/Loading\";\r\nimport EditUser from \"./EditUser\";\r\nimport { AiOutlineClose } from \"@react-icons/all-files/ai/AiOutlineClose\";\r\nimport AlertModal from \"../AlertModal\";\r\n\r\nconst MyPage = () => {\r\n  const [user, setUser, onChange] = useInput();\r\n  const [isOpen, SetisOpen] = useState(false);\r\n  const [isOpen1, SetisOpen1] = useState(false);\r\n  const [isOpen2, SetisOpen2] = useState(false);\r\n  const [reservedParty, setReservedParty] = useState();\r\n  const [confirmParty, setConfirmParty] = useState();\r\n  const [bookmark, setBookmark] = useState([]);\r\n  const [likeGame, setLikeGame] = useState();\r\n  const [openEdit, setOpenEdit] = useState(false);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [alert, setAlert] = useState(false);\r\n  const [content, setContent] = useState();\r\n  const [address, setAddress] = useState();\r\n  const [ModalOpen, setModalOpen] = useState();\r\n  const [dupNickName, setDupNickName] = useState(false);\r\n  const [initialUser, setinitialUser] = useState();\r\n  const [confirmAlert, setConfirmAlert] = useState(false);\r\n  const [confirmAdress, setconfirmAdress] = useState();\r\n  const [confirmContent, setconfirmContent] = useState();\r\n  const [cancelContent, setcancelContent] = useState();\r\n  const [cancelAddress, setcancelAddress] = useState();\r\n\r\n  //---------- 1초 로딩 후 렌더  ------------\r\n  useEffect(() => {\r\n    getUser();\r\n  }, [setModalOpen, ModalOpen]);\r\n  //? -----------------  API  -----------------------\r\n\r\n  const getUser = async () => {\r\n    try {\r\n      const { data } = await userApi.getUser();\r\n      console.log(data);\r\n      setinitialUser(data.findUser);\r\n      setLikeGame(data.findUser.likeGame);\r\n      setUser(data.findUser);\r\n      setReservedParty(data.partyReserved);\r\n      setConfirmParty(data.partyGo);\r\n      setBookmark(data.findUser.bookmarkData);\r\n      setTimeout(() => setIsLoading(false), 700);\r\n    } catch (error) {\r\n      if (!sessionStorage.getItem(\"accessToken\")) {\r\n        setAlert(true);\r\n        setContent(\"로그인이 필요한 페이지입니다!\");\r\n      }\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  const editUser = async () => {\r\n    if (user.nickName.trim(\" \") && user.nickName !== initialUser.nickName) {\r\n      try {\r\n        const { data } = await userApi.editUser(user);\r\n        console.log(data.findUserData);\r\n        setUser(data.findUserData);\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    }\r\n  };\r\n\r\n  //? ------------------  로그아웃 -------------------\r\n\r\n  const logoutHandler = () => {\r\n    setAlert(true);\r\n    setContent(\"로그아웃 하시겠습니까?\");\r\n    setconfirmContent(\"로그아웃\");\r\n    setcancelContent(\"취소\");\r\n    setconfirmAdress(\"/\");\r\n  };\r\n\r\n  //? --------------------  회원탈퇴  ---------------------\r\n\r\n  const deleteUser = async () => {\r\n    try {\r\n      const { data } = await axios.delete(\r\n        `${process.env.REACT_APP_BACK_SERVER}/users`,\r\n        {\r\n          headers: {\r\n            Authorization: `${sessionStorage.getItem(\"accessToken\")}`,\r\n          },\r\n        }\r\n      );\r\n      console.log(data);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  const deletUserHandler = () => {\r\n    setAlert(true);\r\n    setContent(\"회원 탈퇴하시겠습니까?\");\r\n    setconfirmContent(\"탈퇴\");\r\n    setcancelContent(\"취소\");\r\n    setconfirmAdress(\"/\");\r\n  };\r\n\r\n  const confirmFunction = () => {\r\n    if (confirmContent === \"탈퇴\") {\r\n      deleteUser();\r\n    }\r\n\r\n    sessionStorage.removeItem(\"accessToken\");\r\n    sessionStorage.removeItem(\"refreshToken\");\r\n    sessionStorage.removeItem(\"nickName\");\r\n  };\r\n\r\n  //? --------------------- 다음포스트  --------------------------\r\n\r\n  useEffect(() => {\r\n    // getReserved();\r\n    // getConfirm();\r\n    if (!sessionStorage.getItem(\"accessToken\")) {\r\n      setAlert(true);\r\n      setContent(\"로그인이 필요한 페이지입니다!\");\r\n      // window.location.replace(\"/\");\r\n      setAddress(\"/\");\r\n    }\r\n  }, []);\r\n\r\n  console.log(user?.nickName === initialUser?.nickName);\r\n\r\n  const editHandler = () => {\r\n    if (user.nickName === initialUser.nickName || dupNickName) {\r\n      sessionStorage.setItem(\"nickName\", user.nickName);\r\n      editUser();\r\n      setOpenEdit(false);\r\n    } else {\r\n      setAlert(true);\r\n      setContent(\"중복확인을 눌러주세요!\");\r\n    }\r\n  };\r\n\r\n  const closeHandler = () => {\r\n    setOpenEdit(!openEdit);\r\n    setUser(initialUser);\r\n  };\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <>\r\n        {alert && (\r\n          <AlertModal\r\n            setAlert={setAlert}\r\n            content={content}\r\n            confirm\r\n            confirmAddress={\"/\"}\r\n            confirmContent={\"로그인\"}\r\n            cancelContent={\"취소\"}\r\n            cancelAddress={-1}\r\n          />\r\n        )}\r\n        <Loading />\r\n      </>\r\n    );\r\n  } else {\r\n    return (\r\n      <Wrapper>\r\n        {alert && (\r\n          <AlertModal\r\n            confirmFunction={confirmFunction}\r\n            setConfirmAlert={setConfirmAlert}\r\n            setAlert={setAlert}\r\n            address={address}\r\n            confirm\r\n            confirmAddress={confirmAdress}\r\n            confirmContent={confirmContent}\r\n            cancelContent={cancelContent}\r\n            cancelAddress={cancelAddress}\r\n            content={content}\r\n          />\r\n        )}\r\n        <MainHeader>\r\n          {openEdit ? (\r\n            <AiOutlineClose\r\n              size={\"26\"}\r\n              onClick={closeHandler}\r\n              className=\"closeBtn\"\r\n            />\r\n          ) : (\r\n            <div className=\"gap\" />\r\n          )}\r\n          <div className=\"headtxt\">마이페이지</div>\r\n          <RowBox>\r\n            <div onClick={openEdit ? editHandler : () => setOpenEdit(true)}>\r\n              {openEdit ? \"완료\" : \"편집\"}\r\n            </div>\r\n          </RowBox>\r\n        </MainHeader>\r\n        <AvatarBox userSelect={user?.userAvatar} />\r\n        <ProfileCtn>\r\n          {\" \"}\r\n          <ProfileRow className=\"Topbox\">\r\n            {\" \"}\r\n            <div>{user?.nickName} 님</div>{\" \"}\r\n          </ProfileRow>\r\n          {user?.visible == \"V\" && (\r\n            <ProfileRow>\r\n              <div>{user?.age ? `${user?.age} 살` : \"없음\"} /</div>\r\n              <div>{user?.gender ? `${user?.gender}` : \"없음\"} /</div>\r\n              <div>\r\n                {\" \"}\r\n                {user?.myPlace.length\r\n                  ? `${user?.myPlace[0]} ${user?.myPlace[1]}`\r\n                  : \"없음\"}\r\n              </div>\r\n            </ProfileRow>\r\n          )}\r\n          {user?.visible == \"H\" && <div>비공개</div>}\r\n          <LikeGameCtn>\r\n            <LikeGameBox>\r\n              {likeGame?.map((game) => {\r\n                if (likeGame.length >= 2) return <LikeGame>{game}</LikeGame>;\r\n              })}\r\n            </LikeGameBox>\r\n          </LikeGameCtn>\r\n          <MyPartyCtn>\r\n            <MyPartyTitle onClick={() => SetisOpen(!isOpen)}>\r\n              내가 찜한 모임\r\n              <Arrow className={isOpen ? \"open\" : null} />\r\n            </MyPartyTitle>\r\n            {isOpen && (\r\n              <MyPartyBox>\r\n                {bookmark?.length === 0 && (\r\n                  <div className=\"fontweight\">비어있습니다.</div>\r\n                )}\r\n                {bookmark?.map((party) => {\r\n                  return (\r\n                    <MyPartyItem\r\n                      setModalOpen={setModalOpen}\r\n                      ModalOpen={ModalOpen}\r\n                      party={party}\r\n                      title={party.title}\r\n                      postId={party.postId}\r\n                    />\r\n                  );\r\n                })}\r\n              </MyPartyBox>\r\n            )}\r\n            <MyPartyTitle onClick={() => SetisOpen1(!isOpen1)}>\r\n              참여 신청 중인 모임\r\n              <Arrow className={isOpen1 ? \"open\" : null} />\r\n            </MyPartyTitle>\r\n            {isOpen1 && (\r\n              <MyPartyBox>\r\n                {reservedParty?.length === 0 && (\r\n                  <div className=\"fontweight\">비어있습니다.</div>\r\n                )}\r\n                {reservedParty?.map((party) => {\r\n                  return (\r\n                    <MyPartyItem\r\n                      setModalOpen={setModalOpen}\r\n                      ModalOpen={ModalOpen}\r\n                      party={party}\r\n                      title={party.title}\r\n                      postId={party._id}\r\n                    />\r\n                  );\r\n                })}\r\n              </MyPartyBox>\r\n            )}\r\n            <MyPartyTitle onClick={() => SetisOpen2(!isOpen2)}>\r\n              참여 확정 모임\r\n              <Arrow className={isOpen2 ? \"open\" : null} />\r\n            </MyPartyTitle>\r\n            {isOpen2 && (\r\n              <MyPartyBox>\r\n                {confirmParty?.length === 0 && (\r\n                  <div className=\"fontweight\">비어있습니다.</div>\r\n                )}\r\n                {confirmParty?.map((party) => {\r\n                  return (\r\n                    <MyPartyItem\r\n                      setModalOpen={setModalOpen}\r\n                      ModalOpen={ModalOpen}\r\n                      party={party}\r\n                      title={party.title}\r\n                      postId={party._id}\r\n                    />\r\n                  );\r\n                })}\r\n              </MyPartyBox>\r\n            )}{\" \"}\r\n          </MyPartyCtn>{\" \"}\r\n          <BottomTxt>\r\n            <div className=\"txtbox\" onClick={() => logoutHandler()}>\r\n              로그아웃\r\n            </div>\r\n            <div className=\"txtbox\" onClick={() => deletUserHandler()}>\r\n              회원탈퇴\r\n            </div>\r\n            <div\r\n              className=\"txtbox-noborder\"\r\n              onClick={() =>\r\n                window.open(\"https://forms.gle/83os3kHzPNmC22fTA\", \"_blank\")\r\n              }\r\n            >\r\n              고객문의\r\n            </div>{\" \"}\r\n          </BottomTxt>\r\n        </ProfileCtn>{\" \"}\r\n        <EditUser\r\n          initialUser={initialUser}\r\n          setDupNickName={setDupNickName}\r\n          user={user}\r\n          onChange={onChange}\r\n          setUser={setUser}\r\n          openEdit={openEdit}\r\n          setOpenEdit={setOpenEdit}\r\n        />\r\n      </Wrapper>\r\n    );\r\n  }\r\n};\r\n\r\nconst Wrapper = styled.div`\r\n  position: relative;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n  width: 100%;\r\n  height: 100%;\r\n  background-color: var(--white);\r\n  overflow-y: hidden;\r\n`;\r\n\r\nconst MainHeader = styled.div`\r\n  position: sticky;\r\n  top: 0;\r\n  width: 100%;\r\n  background-color: var(--black);\r\n  box-shadow: 0px 0.5px 15px 0.1px black;\r\n  z-index: 100;\r\n  color: white;\r\n  padding: 3.5% 4% 3.5% 3%;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  .headtxt {\r\n    font-size: 20px;\r\n    font-weight: 600;\r\n    color: #fff;\r\n    text-shadow: 0 0 7px #d90368, 0 0 10px #d90368, 0 0 21px #fff,\r\n      0 0 42px #d90368, 0 0 82px #d90368, 0 0 92px #d90368, 0 0 102px #d90368,\r\n      0 0 151px #d90368;\r\n  }\r\n  .closeBtn {\r\n    :hover {\r\n      cursor: pointer;\r\n    }\r\n    margin-left: 2.8%;\r\n  }\r\n  .gap {\r\n    width: 30px;\r\n    margin-left: 2%;\r\n  }\r\n`;\r\n\r\nconst RowBox = styled.div`\r\n  display: flex;\r\n  :hover {\r\n    cursor: pointer;\r\n  }\r\n`;\r\n\r\nconst ProfileCtn = styled.div`\r\n  z-index: 10;\r\n  width: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  background-color: var(--black);\r\n  color: #d3d3d3;\r\n  border-top-left-radius: 20px;\r\n  border-top-right-radius: 20px;\r\n  height: 56%;\r\n  padding-top: 5%;\r\n  padding-left: 10%;\r\n  padding-bottom: 15%;\r\n  padding: 5% 10% 15% 10%;\r\n  overflow-y: hidden;\r\n  overflow-y: scroll;\r\n  //? -----모바일에서처럼 스크롤바 디자인---------------\r\n  ::-webkit-scrollbar {\r\n    width: 15px;\r\n  }\r\n  ::-webkit-scrollbar-thumb {\r\n    background-color: #898989;\r\n    //스크롤바에 마진준것처럼 보이게\r\n    background-clip: padding-box;\r\n    border: 4px solid transparent;\r\n    border-radius: 15px;\r\n  }\r\n`;\r\n\r\nconst ProfileRow = styled.div`\r\n  margin-top: 2%;\r\n  width: 100%;\r\n  padding: 0px 10px;\r\n  display: flex;\r\n  justify-content: flex-start;\r\n  align-items: center;\r\n  &.Topbox {\r\n    justify-content: space-between;\r\n  }\r\n  .visible {\r\n    justify-content: space-between;\r\n    display: flex;\r\n    align-items: center;\r\n    margin-left: 3%;\r\n  }\r\n`;\r\n\r\nconst LikeGameCtn = styled.div`\r\n  width: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: flex-start;\r\n  gap: 10px;\r\n`;\r\n\r\nconst LikeGameBox = styled.div`\r\n  display: flex;\r\n  justify-content: left;\r\n  gap: 15px;\r\n`;\r\n\r\nconst LikeGame = styled.div`\r\n  padding: 5px 15px;\r\n  font-size: 14px;\r\n  border-radius: 30px;\r\n  background-color: var(--primary);\r\n`;\r\n\r\nconst MyPartyCtn = styled.div`\r\n  width: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: flex-start;\r\n  margin-top: 5%;\r\n`;\r\n\r\nconst MyPartyTitle = styled.div`\r\n  color: #dadada;\r\n  display: flex;\r\n  align-items: center;\r\n  margin-top: 10%;\r\n  :hover {\r\n    cursor: pointer;\r\n    text-decoration: underline;\r\n  }\r\n`;\r\n\r\nconst MyPartyBox = styled.div`\r\n  margin-top: 5%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  width: 90%;\r\n  max-height: 50%;\r\n  .fontweight {\r\n    font-weight: 600;\r\n  }\r\n`;\r\nconst BottomTxt = styled.div`\r\n  margin-top: 15%;\r\n  color: #6c6c6c;\r\n  font-size: 15px;\r\n  font-weight: 600;\r\n  width: 100%;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  @media only screen and (max-width: 400px) {\r\n    font-size: 11px;\r\n  }\r\n\r\n  :hover {\r\n    cursor: pointer;\r\n  }\r\n  .txtbox {\r\n    padding: 0px 20px;\r\n    border-right: 1px solid #6c6c6c;\r\n    :hover {\r\n      text-decoration: underline;\r\n    }\r\n  }\r\n  .txtbox-noborder {\r\n    padding: 0px 20px;\r\n    :hover {\r\n      text-decoration: underline;\r\n    }\r\n  }\r\n`;\r\n\r\nconst Arrow = styled.div`\r\n  display: inline-block;\r\n  border: 7px solid transparent;\r\n  border-top-color: var(--white);\r\n  transform: rotate(90deg);\r\n  margin-left: 5%;\r\n  &.left {\r\n    transform: rotate(270deg);\r\n  }\r\n  &.open {\r\n    margin-top: 7px;\r\n    transform: rotate(0deg);\r\n  }\r\n  &.head {\r\n    margin-left: 0;\r\n    border-top-color: white;\r\n  }\r\n`;\r\n\r\nexport default MyPage;\r\n","import React from \"react\";\r\nimport MyPage from \"../Components/MyPage/MyPage\";\r\nimport Layout from \"../style/Layout\";\r\nimport MobileHeader from \"../style/MobileHeader\";\r\n\r\nconst Mypage = () => {\r\n  return (\r\n    <div>\r\n      <Layout>\r\n        <MobileHeader />\r\n        <MyPage />\r\n      </Layout>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Mypage;\r\n"],"names":["Wrapper","styled","openEdit","EditInput","VerifyBtn","EditSelect","Option","EditBox","EditTxt","ToggleBox","open","initialUser","setOpenEdit","user","setUser","onChange","setDupNickName","useState","visible","setOpen","alert","setAlert","content","setContent","console","log","postVisible","payload","userApi","data","findUserData","DupNickname","nickName","signUpApi","findDupNick","response","message","ref","useRef","postConfig","onComplete","myPlace","address","split","slice","current","style","display","postCode","ReactDaumPost","AlertModal","className","value","name","onClick","age","type","gender","MainHeader","RowBox","ProfileCtn","ProfileRow","LikeGameCtn","LikeGameBox","LikeGame","MyPartyCtn","MyPartyTitle","MyPartyBox","BottomTxt","Arrow","useInput","isOpen","SetisOpen","isOpen1","SetisOpen1","isOpen2","SetisOpen2","reservedParty","setReservedParty","confirmParty","setConfirmParty","bookmark","setBookmark","likeGame","setLikeGame","isLoading","setIsLoading","setAddress","ModalOpen","setModalOpen","dupNickName","setinitialUser","setConfirmAlert","confirmAdress","setconfirmAdress","confirmContent","setconfirmContent","cancelContent","setcancelContent","cancelAddress","useEffect","getUser","findUser","partyReserved","partyGo","bookmarkData","setTimeout","sessionStorage","getItem","editUser","trim","deleteUser","axios","process","headers","Authorization","confirm","confirmAddress","Loading","confirmFunction","removeItem","AiOutlineClose","size","setItem","AvatarBox","userSelect","userAvatar","length","map","game","party","MyPartyItem","title","postId","_id","window","Layout","MobileHeader"],"sourceRoot":""}